
1. 制作产品文档和交互文档


2. 给出软件架构和模块划分

现在我们一起来用flutter开发一个跨端的游戏, 请根据产品的文档,规划出软件的架构,划分模块和;类,定义出所有需要的接口,注意可扩展性和完整性,检查是否满足所有产品需求, ,给出一个详细的软件定义, 然后我们来分多轮来逐步实现, 产品介绍如下:#### 游戏简介
《回家过年》是一款休闲益智游戏。玩家需要在一个6x6的棋盘中管理不同颜色的小人，让他们成功登上相同颜色的车回家。游戏过程中会有障碍物阻挡玩家的操作。

3. 给出敏捷开发计划
现在按照敏捷开发的要求,给出一个完整的开发计划,需要包含完整的开发流程,比如,初始化工程,开发每一个需求点,逐步进行测试和验证


解决小人不刷新的问题

 不要在board_view初始化静态的board,而是应该根据难度系数的动态生成,然后在board_view的build里面通过 board = controller.gameState.boardState.board; 来监听board. 注意全局保存一个难度系数和当前设备的游戏信息, 比如一共玩了多少局每一局的输赢,游戏gameover的时候记录当前已经上车的人数,注意编写算法来提升游戏的可玩戏, 如果用户一直输则降低游戏玩度, 如果用户一直赢则提高游戏难度, 编写算法计算游戏难度


判断小人是否可移动应该是小人站在第一排或者有一条通路可以通到第一排

 _canPersonMove继续修改这个方法的代码,
  _canPersonMove
 注意规则是这样的
 判断小人是否可移动,注意整个棋盘的左,下,右三个方向的边缘都是墙壁,不可移动
 1. 应该是小人站在第一排
 2. 或者有一条通路可以通到第一排
 3.靠着墙或者对应位置上有人或者障碍物的方向认为是不可移动的方向
 举个例子,数字1代表有人,数字2代表有障碍物, 数字0代表位置上是空的
 假设棋盘
 [1,0,1,1,1,1]
 [1,0,0,1,1,1]
 [1,1,1,1,1,1]
 [1,1,1,1,1,1]
 [1,1,1,1,1,1]
 [1,1,1,1,1,1]
对应每个位置计算后的可移动状态为:y代表可移动,n代表不可,e代表位置上为空
[y,e,y,y,y,y]
[y,e,e,y,n,n]
[n,y,y,n,n,n]
[n,n,n,n,n,n]
[n,n,n,n,n,n]
[n,n,n,n,n,n]
使用坐标来表示位置,比如
(0,0)为y因为他在第一排
(1,0)为y,因为有一条路是走到(1,1)-(1,0)这样就通到第一排了
(1,3)为y,因为有一条路是走到(1,2)-(1,1)-(1,0)这样就通到第一排了
(2,0)为n因为左侧是墙壁,右,下,上方都有人,没有空位可以走


添加动画
小人上车时显示小人图片从当前位置移动到当前车的动画, 去候车区显示图片移动到候车位置


生成汽车序列和 生成初始化棋盘的分布时,需要至少要有一种点击顺序让所有人正常上车,确保游戏可玩.并且根据可能的点击方式顺序的数量来决定难度, 可选的点击顺序越多则难度越低, 给出完整代码



默认应该显示左侧的next_car和屏幕中间的cur_car, 当当前车的剩余座位位0,同时出发点两个动画,一个是next_car从原先左侧位置走到屏幕中间,同时中间的车移动到屏幕右方然后消失